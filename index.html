<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Espirit Links</title>
  
  <!-- Favicon -->
  <link rel="icon" href="https://i.postimg.cc/SxY1FbGv/standard.webp" type="image/webp" />
  
  <link rel="stylesheet" href="style.css" />
</head>
<body class="index">
  <header class="header">
    <!-- Image beside the site title -->
    <img src="https://i.postimg.cc/SxY1FbGv/standard.webp" alt="Espirit Logo" class="server-logo">
    <h1>Espirit Links</h1>
    <p class="subheading">Your one-stop hub for all Espirit server info!</p>

    <!-- Visits Counter -->
    <div class="visits-counter" id="visitsCounter">Visits: Loading...</div>
  </header>

  <div class="content-container">
    <div class="box">
      <nav>
        <ul class="nav-links">
          <li><a href="staff.html" class="button-link">Espirit - ğŸ‘¥ Staff</a></li>
          <li><a href="rules.html" class="button-link">Espirit - ğŸ“œ Rules</a></li>
          <li><a href="server.html" class="button-link">Espirit - ğŸŒ Server Info</a></li>
          <li><a href="game.html" class="button-link">Espirit - ğŸ® Game</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Espirit. All Rights Reserved.</p>
  </footer>

  <style>
    /* Style for the visits counter */
    .visits-counter {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #ffcc00;
      color: #333;
      padding: 10px 15px;
      border-radius: 5px;
      font-size: 1rem;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
  </style>

  <script>
    // Fetch visit count from countapi.xyz
    const namespace = "espirit-links"; // Replace with a unique namespace for your site
    const key = "visits";

    // Initialize the counter to start at 518 if it doesn't exist
    fetch(`https://api.countapi.xyz/get/${namespace}/${key}`)
      .then(response => response.json())
      .then(data => {
        if (data.value === undefined) {
          // Set the initial value to 518
          fetch(`https://api.countapi.xyz/set/${namespace}/${key}?value=518`)
            .then(() => incrementVisitCount());
        } else {
          incrementVisitCount();
        }
      })
      .catch(error => {
        console.error("Error initializing visit count:", error);
        document.getElementById("visitsCounter").textContent = "Visits: Error";
      });

    // Increment the visit count
    function incrementVisitCount() {
      fetch(`https://api.countapi.xyz/hit/${namespace}/${key}`)
        .then(response => response.json())
        .then(data => {
          document.getElementById("visitsCounter").textContent = `Visits: ${data.value}`;
        })
        .catch(error => {
          console.error("Error incrementing visit count:", error);
          document.getElementById("visitsCounter").textContent = "Visits: Error";
        });
    }
  </script>
</body>
</html>
